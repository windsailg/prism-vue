(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20f8f7"],{b3c3:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container mt-1"},[a("Spinner",{class:{"fade-out":!e.isLoading}}),a("h1",{staticClass:"mt-5"},[e._v("商品分類")]),a("hr"),a("NavPills",{attrs:{categories:e.categories}}),a("div",{staticClass:"row mt-4"},e._l(e.products,(function(e){return a("ProductCards",{key:e.id,attrs:{"initial-item":e}})})),1),a("div",{staticClass:"row justify-content-center"},[a("Pagination",{attrs:{currentPage:e.currentPage,totalPage:e.totalPage,prevPage:e.prevPage,nextPage:e.nextPage,categoryId:e.categoryId}})],1)],1)},n=[],s=a("1da1"),i=(a("96cf"),a("9ab8")),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"nav nav-pills mb-4"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"results"}}},[e._v(" 全部 ")])],1),e._l(e.categories,(function(t){return a("li",{key:t.id,staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"results",query:{categoryId:t.id}}}},[e._v(" "+e._s(t.name)+" ")])],1)}))],2)},c=[],u={props:{categories:{type:Array,required:!0}}},l=u,g=a("2877"),d=Object(g["a"])(l,o,c,!1,null,null,null),p=d.exports,v=a("1799"),f=a("2375"),P=a("ee21"),y=a("2fa3"),m={name:"Results",components:{ProductCards:i["a"],NavPills:p,Pagination:v["a"],Spinner:f["a"]},data:function(){return{products:[],categories:[],categoryId:-1,currentPage:1,totalPage:[],prevPage:-1,nextPage:-1,isLoading:!1}},beforeRouteUpdate:function(e,t,a){var r=e.query,n=r.page,s=void 0===n?"":n,i=r.categoryId,o=void 0===i?"":i;this.fetchData({queryPage:s,queryCategoryId:o}),a()},methods:{fetchData:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,s,i,o,c,u,l,g,d,p;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.queryPage,n=e.queryCategoryId,a.prev=1,t.isLoading=!0,a.next=5,P["a"].getIndex({page:r,categoryId:n});case 5:s=a.sent,i=s.data,o=i.products,c=i.categories,u=i.categoryId,l=i.page,g=i.totalPage,d=i.prev,p=i.next,t.products=o,t.categories=c,t.categoryId=u,t.currentPage=l,t.totalPage=g,t.nextPage=p,t.prevPage=d,t.isLoading=!1,a.next=22;break;case 17:a.prev=17,a.t0=a["catch"](1),console.log(a.t0),t.toastFire("error","無法取得首頁資訊"),t.isLoading=!1;case 22:case"end":return a.stop()}}),a,null,[[1,17]])})))()},toastFire:function(e,t){y["a"].fire({icon:e,title:t,background:"#eee",showConfirmButton:!1})}},created:function(){this.fetchData({queryPage:"",queryCategoryId:""})}},h=m,C=Object(g["a"])(h,r,n,!1,null,null,null);t["default"]=C.exports}}]);
//# sourceMappingURL=chunk-2d20f8f7.cf4b9a37.js.map