{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/views/AdminCategories.vue?335b","webpack:///./src/components/backstage/CategoriesTable.vue?e255","webpack:///src/components/backstage/CategoriesTable.vue","webpack:///./src/components/backstage/CategoriesTable.vue?319f","webpack:///./src/components/backstage/CategoriesTable.vue","webpack:///src/views/AdminCategories.vue","webpack:///./src/views/AdminCategories.vue?775e","webpack:///./src/views/AdminCategories.vue","webpack:///./src/components/backstage/BackStageNav.vue?60b0","webpack:///src/components/backstage/BackStageNav.vue","webpack:///./src/components/backstage/BackStageNav.vue?086a","webpack:///./src/components/backstage/BackStageNav.vue","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","render","_vm","_h","$createElement","_c","_self","staticClass","_v","class","isLoading","attrs","categories","isProcessing","on","handleAfterSubmit","handleAfterToggle","handleAfterCancel","handleAfterUpdate","handleAfterDelete","staticRenderFns","$event","preventDefault","stopPropagation","handleSubmit","directives","name","rawName","value","expression","domProps","composing","newCategoryName","_m","_l","category","key","id","_s","isEditing","$set","handleCancel","handleToggle","handleUpdate","handleDelete","props","type","Array","required","Boolean","default","data","methods","$emit","payload","created","component","components","CategoriesTable","BackStageNav","Spinner","map","toastFire","icon","action","title","text","background","showConfirmButton","fetchData","fails","whitespaces","non","module","exports","METHOD_NAME","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","callbackfn","arguments","length","undefined"],"mappings":"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","file":"js/chunk-2054f932.201b6b06.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mb-5\"},[_c('h1',[_vm._v(\"類別管理\")]),_c('Spinner',{class:{ 'fade-out': !_vm.isLoading }}),_c('BackStageNav'),_c('CategoriesTable',{attrs:{\"categories\":_vm.categories,\"is-processing\":_vm.isProcessing},on:{\"after-submit\":_vm.handleAfterSubmit,\"after-toggle\":_vm.handleAfterToggle,\"after-cancel\":_vm.handleAfterCancel,\"after-update\":_vm.handleAfterUpdate,\"after-delete\":_vm.handleAfterDelete}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row justify-content-end mt-3 mb-3\"},[_c('form',{staticClass:\"input-group mb-3\",on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleSubmit($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newCategoryName),expression:\"newCategoryName\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"aria-label\":\"Recipient's username\",\"aria-describedby\":\"button-addon2\",\"placeholder\":\"新增分類名稱\",\"name\":\"name\"},domProps:{\"value\":(_vm.newCategoryName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newCategoryName=$event.target.value}}}),_c('button',{staticClass:\"btn btn-primary shadow-sm\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isProcessing}},[_c('i',{staticClass:\"fas fa-file mr-1\"}),_vm._v(\" 新增分類 \")])])]),_c('div',{staticClass:\"row shadow card\"},[_c('table',{staticClass:\"table mb-0\"},[_vm._m(0),_c('tbody',{},_vm._l((_vm.categories),function(category){return _c('tr',{key:category.id},[_c('th',{staticClass:\"text-center\",attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(category.id))]),_c('td',[_c('h5',{directives:[{name:\"show\",rawName:\"v-show\",value:(!category.isEditing),expression:\"!category.isEditing\"}],staticClass:\"m-0\"},[_vm._v(\" \"+_vm._s(category.name)+\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(category.isEditing),expression:\"category.isEditing\"}],staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(category.name),expression:\"category.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"aria-label\":\"Recipient's categoryName\",\"aria-describedby\":\"button-addon2\",\"placeholder\":\"輸入更改的分類名稱\",\"name\":\"name\"},domProps:{\"value\":(category.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(category, \"name\", $event.target.value)}}}),_c('button',{staticClass:\"btn btn-sm btn-warning p-2 cancel\",on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleCancel(category.id)}}},[_vm._v(\" 取消 \")])])]),_c('td',{staticClass:\"text-center\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!category.isEditing),expression:\"!category.isEditing\"}],staticClass:\"btn btn-primary btn-sm mr-1\",on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleToggle(category.id)}}},[_c('i',{staticClass:\"fas fa-pencil-alt\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(category.isEditing),expression:\"category.isEditing\"}],staticClass:\"btn btn-success btn-sm mr-1\",on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleUpdate({ id: category.id, name: category.name })}}},[_c('i',{staticClass:\"fas fa-save\"})]),_c('button',{staticClass:\"btn btn-outline-danger btn-sm\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isProcessing},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleDelete(category.id)}}},[_c('i',{staticClass:\"fas fa-trash-alt\"})])])])}),0)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{staticClass:\"table-secondary\"},[_c('tr',[_c('th',{staticClass:\"text-center\",attrs:{\"scope\":\"col\"}},[_vm._v(\"id\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Category Name\")]),_c('th',{staticClass:\"text-center\",attrs:{\"scope\":\"col\"}},[_vm._v(\"操作\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"row justify-content-end mt-3 mb-3\">\r\n      <form @submit.prevent.stop=\"handleSubmit\" class=\"input-group mb-3\">\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          aria-label=\"Recipient's username\"\r\n          aria-describedby=\"button-addon2\"\r\n          placeholder=\"新增分類名稱\"\r\n          name=\"name\"\r\n          v-model=\"newCategoryName\"\r\n        />\r\n        <button \r\n          type=\"submit\" \r\n          class=\"btn btn-primary shadow-sm\"\r\n          :disabled=\"isProcessing\"\r\n        >\r\n          <i class=\"fas fa-file mr-1\"></i>\r\n          新增分類\r\n        </button>\r\n      </form>\r\n    </div>\r\n\r\n    <div class=\"row shadow card\">\r\n      <table class=\"table mb-0\">\r\n        <thead class=\"table-secondary\">\r\n          <tr>\r\n            <th class=\"text-center\" scope=\"col\">id</th>\r\n            <th scope=\"col\">Category Name</th>\r\n            <th class=\"text-center\" scope=\"col\">操作</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody class=\"\">\r\n          <tr v-for=\"category in categories\" :key=\"category.id\">\r\n            <th class=\"text-center\" scope=\"row\">{{ category.id }}</th>\r\n            <td>\r\n              <h5 v-show=\"!category.isEditing\" class=\"m-0\">\r\n                {{ category.name }}\r\n              </h5>\r\n\r\n              <div v-show=\"category.isEditing\" class=\"input-group\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  aria-label=\"Recipient's categoryName\"\r\n                  aria-describedby=\"button-addon2\"\r\n                  placeholder=\"輸入更改的分類名稱\"\r\n                  name=\"name\"\r\n                  v-model=\"category.name\"\r\n                />\r\n                <button\r\n                  class=\"btn btn-sm btn-warning p-2 cancel\"\r\n                  @click.prevent.stop=\"handleCancel(category.id)\"\r\n                >\r\n                  取消\r\n                </button>\r\n              </div>\r\n            </td>\r\n            <td class=\"text-center\">\r\n              <button\r\n                v-show=\"!category.isEditing\"\r\n                class=\"btn btn-primary btn-sm mr-1\"\r\n                @click.prevent.stop=\"handleToggle(category.id)\"\r\n              >\r\n                <i class=\"fas fa-pencil-alt\"></i>\r\n              </button>\r\n\r\n              <button\r\n                v-show=\"category.isEditing\"\r\n                class=\"btn btn-success btn-sm mr-1\"\r\n                @click.prevent.stop=\"handleUpdate({ id: category.id, name: category.name })\"\r\n              >\r\n                <i class=\"fas fa-save\"></i>\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                class=\"btn btn-outline-danger btn-sm\"\r\n                :disabled=\"isProcessing\"\r\n                @click.prevent.stop=\"handleDelete(category.id)\"\r\n              >\r\n                <i class=\"fas fa-trash-alt\"></i>\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nexport default {\r\n  name: 'CategoriesTable',\r\n  props: {\r\n    categories: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    isProcessing: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      newCategoryName: '',\r\n    }\r\n  },\r\n  methods: {\r\n    handleSubmit() {\r\n      this.$emit('after-submit', this.newCategoryName)\r\n    },\r\n    handleToggle(id) {\r\n      this.$emit('after-toggle', id)\r\n    },\r\n    handleCancel(id) {\r\n      this.$emit('after-cancel', id)\r\n    },\r\n    handleUpdate(payload) {\r\n      this.$emit('after-update', payload)\r\n    },\r\n    handleDelete(id) {\r\n      this.$emit('after-delete', id)\r\n    },\r\n  },\r\n  created() {},\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoriesTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoriesTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CategoriesTable.vue?vue&type=template&id=19ffffac&\"\nimport script from \"./CategoriesTable.vue?vue&type=script&lang=js&\"\nexport * from \"./CategoriesTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"mb-5\">\r\n    <h1>類別管理</h1>\r\n    <Spinner :class=\"{ 'fade-out': !isLoading }\" />\r\n    <BackStageNav />\r\n    <CategoriesTable\r\n      :categories=\"categories\"\r\n      :is-processing=\"isProcessing\"\r\n      @after-submit=\"handleAfterSubmit\"\r\n      @after-toggle=\"handleAfterToggle\"\r\n      @after-cancel=\"handleAfterCancel\"\r\n      @after-update=\"handleAfterUpdate\"\r\n      @after-delete=\"handleAfterDelete\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CategoriesTable from '../components/backstage/CategoriesTable'\r\nimport BackStageNav from '../components/backstage/BackStageNav'\r\nimport productsAPI from '../apis/products'\r\nimport Spinner from '../components/Spinner'\r\nimport { Toast } from '../utils/helpers'\r\n\r\nexport default {\r\n  name: 'AdminCategories',\r\n  components: {\r\n    CategoriesTable,\r\n    BackStageNav,\r\n    Spinner\r\n  },\r\n  data() {\r\n    return {\r\n      categories: [],\r\n      isProcessing: false,\r\n      isLoading: true\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchData() {\r\n      try {\r\n        this.isLoading = true\r\n        const { data } = await productsAPI.categories.get()\r\n        this.categories = data.categories.map(c => ({\r\n          ...c,\r\n          isEditing: false,\r\n          nameCatched: ''\r\n        }))\r\n        this.isLoading = false\r\n      } catch (err) {\r\n        console.log(err)\r\n        this.isProcessing = false\r\n        this.isLoading = false\r\n        this.toastFire('error', '取得資料失敗，請稍後再試')\r\n      }\r\n    },\r\n    async handleAfterSubmit(name) {\r\n      try {\r\n        if (!name.trim()) return this.toastFire('error', '分類名稱不得為空')\r\n        this.isProcessing = true\r\n        const { data } = await productsAPI.categories.create({ name })\r\n        if (data.status !== 'success') throw new Error(data.message)\r\n        this.toastFire('success', '新增分類成功')\r\n        this.fetchData()\r\n        this.isProcessing = false\r\n      } catch (err) {\r\n        console.log(err)\r\n        this.isProcessing = false\r\n        this.toastFire('error', err || '新增分類失敗，請稍後再試')\r\n      }\r\n    },\r\n    handleAfterToggle(id) {\r\n      this.categories = this.categories.map(c => c.id === id ? { ...c, isEditing: !c.isEditing, nameCatched: c.name } : c)\r\n    },\r\n    handleAfterCancel(id) {\r\n      this.categories = this.categories.map(c => c.id === id ? { ...c, name: c.nameCatched, isEditing: false } : c)\r\n    },\r\n    async handleAfterUpdate(payload) {\r\n      try {\r\n        if (!payload.name.trim()) {\r\n          this.toastFire('error', '分類名稱不得為空')\r\n          return\r\n        }\r\n        this.isProcessing = true\r\n        const { data } = await productsAPI.categories.update({ \r\n          id: payload.id,\r\n          name: payload.name\r\n         })\r\n        if (data.status !== 'success') {\r\n          throw new Error(data.message)\r\n        }\r\n        this.toastFire('success', '修改分類成功')\r\n        this.categories = this.categories.map(c => c.id === payload.id ? { ...c, isEditing: false } : c )\r\n        this.isProcessing = false\r\n      } catch (err) {\r\n        console.log(err)\r\n        this.isProcessing = false\r\n        this.toastFire('error', err || '修改分類失敗，請稍後再試')\r\n      }\r\n    },\r\n    async handleAfterDelete(id) {\r\n      try {\r\n        this.isProcessing = true\r\n        const { data } = await productsAPI.categories.delete({ id })\r\n        if (data.status !== 'success') {\r\n          throw new Error(data.message)\r\n        }\r\n        this.toastFire('success', '刪除分類成功')\r\n        this.categories = this.categories.filter(c => c.id !== id)\r\n        this.isProcessing = false\r\n      } catch (err) {\r\n        console.log(err)\r\n        this.isProcessing = false\r\n        this.toastFire('error', err || '刪除分類失敗，請稍後再試')\r\n      }\r\n    },\r\n    toastFire(action, text) {\r\n      Toast.fire({\r\n        icon: action,\r\n        title: text,\r\n        background: '#eee',\r\n        showConfirmButton: false,\r\n      })\r\n    },\r\n  },\r\n  created() {\r\n    this.fetchData()\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminCategories.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminCategories.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminCategories.vue?vue&type=template&id=d108bb84&\"\nimport script from \"./AdminCategories.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminCategories.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container pt-3 pb-4 pr-0 pl-0\"},[_c('ul',{staticClass:\"row mt-4 mb-3 nav nav-pills\"},[_c('li',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":{ name: 'adminProducts' }}},[_vm._v(\"所有商品\")])],1),_c('li',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":{ name: 'adminCategories' }}},[_vm._v(\"分類列表\")])],1),_c('li',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":{ name: 'adminUsers' }}},[_vm._v(\"會員列表\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container pt-3 pb-4 pr-0 pl-0\">\r\n\r\n    <ul class=\"row mt-4 mb-3 nav nav-pills\">\r\n      <li class=\"nav-item\">\r\n          <router-link class=\"nav-link\" :to=\"{ name: 'adminProducts' }\">所有商品</router-link>\r\n      </li>\r\n      <li class=\"nav-item\">\r\n          <router-link class=\"nav-link\" :to=\"{ name: 'adminCategories' }\">分類列表</router-link>\r\n      </li>\r\n      <li class=\"nav-item\">\r\n          <router-link class=\"nav-link\" :to=\"{ name: 'adminUsers' }\">會員列表</router-link>\r\n      </li>\r\n    </ul>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'BackStageNav',\r\n  props: {\r\n\r\n  },\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackStageNav.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackStageNav.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BackStageNav.vue?vue&type=template&id=322f5743&\"\nimport script from \"./BackStageNav.vue?vue&type=script&lang=js&\"\nexport * from \"./BackStageNav.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}